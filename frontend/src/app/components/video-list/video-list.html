<div
    class="border border-slate-200 dark:border-white/10 rounded-3xl overflow-hidden bg-white/50 dark:bg-white/5 p-4 sm:p-6">
    <div class="mb-6">
        <h3 class="text-lg font-bold text-slate-900 dark:text-white mb-4 uppercase tracking-wider text-glow">Danh Sách
            Video</h3>
        <input type="file" #fileInput class="hidden" (change)="onFileSelected($event)" accept="video/mp4">

        <!-- Upload Button -->
        <button (click)="fileInput.click()"
            class="w-full py-4 rounded-xl border border-brand-primary/30 text-brand-primary hover:bg-brand-primary/10 transition-all font-bold uppercase tracking-widest text-sm flex items-center justify-center gap-2 group shadow-[0_0_20px_rgba(0,131,155,0.1)] hover:shadow-[0_0_30px_rgba(0,131,155,0.2)]">
            <svg class="w-5 h-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                    d="M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-8l-4-4m0 0L8 8m4-4v12" />
            </svg>
            Tải Video Mới
        </button>
    </div>

    <ul role="list" class="space-y-3">
        <li *ngFor="let video of videos"
            class="group flex items-center justify-between p-4 rounded-xl border border-slate-200 dark:border-white/10 bg-white dark:bg-black/20 hover:border-brand-primary/50 transition-all">

            <div class="flex items-center gap-4 overflow-hidden">
                <!-- Drag Handle -->
                <div
                    class="text-slate-400 dark:text-slate-600 cursor-move opacity-0 group-hover:opacity-100 transition-opacity">
                    <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24">
                        <path
                            d="M8 6a2 2 0 1 1-4 0 2 2 0 0 1 4 0zm0 6a2 2 0 1 1-4 0 2 2 0 0 1 4 0zm0 6a2 2 0 1 1-4 0 2 2 0 0 1 4 0zm8-12a2 2 0 1 1-4 0 2 2 0 0 1 4 0zm0 6a2 2 0 1 1-4 0 2 2 0 0 1 4 0zm0 6a2 2 0 1 1-4 0 2 2 0 0 1 4 0z" />
                    </svg>
                </div>

                <!-- Play Icon -->
                <div class="text-slate-300 dark:text-slate-500 group-hover:text-brand-primary transition-colors">
                    <svg class="w-10 h-10" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5"
                            d="M14.752 11.168l-3.197-2.132A1 1 0 0010 9.87v4.263a1 1 0 001.555.832l3.197-2.132a1 1 0 000-1.664z" />
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5"
                            d="M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
                    </svg>
                </div>

                <!-- Info -->
                <div class="min-w-0">
                    <div class="text-slate-900 dark:text-white font-bold truncate text-base">
                        {{ video.originalName }}
                    </div>
                    <div class="text-xs text-slate-500 dark:text-slate-400 font-mono mt-0.5">
                        {{ (video.size / 1024 / 1024) | number:'1.1-2' }} MB
                    </div>
                </div>
            </div>

            <!-- Delete Action -->
            <button (click)="delete.emit(video.id)"
                class="p-2 text-slate-400 hover:text-brand-danger transition-colors rounded-lg hover:bg-brand-danger/10"
                title="Xóa Video">
                <svg class="w-5 h-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                        d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16" />
                </svg>
            </button>
        </li>

        <li *ngIf="videos.length === 0"
            class="flex flex-col items-center justify-center py-16 text-slate-400 dark:text-slate-500 border-2 border-dashed border-slate-200 dark:border-white/5 rounded-2xl bg-slate-50/50 dark:bg-white/5">
            <svg class="w-12 h-12 mb-3 opacity-50" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5"
                    d="M7 4v16M17 4v16M3 8h4m10 0h4M3 12h18M3 16h4m10 0h4M4 20h16a1 1 0 001-1V5a1 1 0 00-1-1H4a1 1 0 00-1 1v14a1 1 0 001 1z" />
            </svg>
            <p>Chưa có video nào trong kho.</p>
        </li>
    </ul>
</div>